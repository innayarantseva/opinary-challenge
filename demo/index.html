<html>
  <head>
    <title>Demo page of the widget</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
  </head>
  <body>
    <h1>Demo page</h1>
    <h2>Here you can find the demo!</h2>
    <script>
      (function (
        window,
        document,
        scriptTagName,
        scriptAddress,
        globalName,
        scriptElement,
        otherScriptElement
      ) {
        // store the name of the global variable
        window["PollWidget"] = globalName;

        // creates a global variable to delegate, so it will be available before script loaded
        window[globalName] =
          window[globalName] ||
          function () {
            // pushes arguments that were passed to delegate into queue
            // so they can be accessed later from the main script
            (window[globalName].q = window[globalName].q || []).push(arguments);
          };

        // epoch timestamp when the SDK was initialized
        window[globalName].l = 1 * new Date();

        // dynamically create a script tag element with async execution,
        scriptElement = document.createElement(scriptTagName);
        otherScriptElement = document.getElementsByTagName(scriptTagName)[0];
        scriptElement.async = 1; // it is just a shorter version of `true`
        scriptElement.src = scriptAddress;

        // inject the script tag before first script tag found within document
        otherScriptElement.parentNode.insertBefore(
          scriptElement,
          otherScriptElement
        );
      })(window, document, "script", "./bundle.js", "poll");

      poll("init", { question: "Is it working?" });
    </script>
  </body>
</html>
